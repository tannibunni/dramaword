# Expo 隧道模式使用指南

## 🚀 什么是隧道模式？

隧道模式允许你从任何地方连接到Expo开发服务器，不需要在同一WiFi网络下。

## 📱 如何使用

### 1. 启动隧道模式
```bash
cd mobile
npx expo start --tunnel
```

### 2. 连接设备
- **Android**: 使用Expo Go扫描二维码
- **iOS**: 使用相机应用扫描二维码
- **手动输入**: 在Expo Go中输入显示的URL

### 3. 二维码信息
隧道模式会显示类似这样的信息：
```
› Metro waiting on exp://u.expo.dev/update/...
› Scan the QR code above with Expo Go
```

## 🔧 配置说明

### API连接
- 隧道模式只影响Expo开发服务器
- 后端API仍然使用 `localhost:3000`
- 移动应用通过隧道连接到开发服务器，然后连接到本地API

### 环境变量
可以在 `.env` 文件中设置：
```
EXPO_PUBLIC_API_URL=http://localhost:3000/api
```

## ⚡ 优势

1. **无需同一网络**: 可以从任何地方连接
2. **自动重连**: 网络变化时自动处理
3. **稳定连接**: 减少网络问题
4. **热重载**: 支持实时代码更新

## 🔍 故障排除

### 如果连接失败：
1. 检查网络连接
2. 重启Expo服务器
3. 清除Expo Go缓存
4. 确保后端API正在运行

### 如果API请求失败：
1. 确保后端服务器在 `localhost:3000` 运行
2. 检查API客户端配置
3. 查看控制台错误信息

## 📝 注意事项

- 隧道模式可能比局域网连接稍慢
- 需要稳定的网络连接
- 某些企业网络可能阻止隧道连接
- 建议在开发时使用，生产环境使用其他方案 